# Configuration for Deepfake Audio Detection System

# Data Settings
data:
  train_dir: "data/train"
  val_dir: "data/val"
  test_dir: "data/test"
  sample_rate: 16000
  n_mels: 80
  max_audio_length: 5.0  # seconds
  
  # Audio preprocessing
  n_fft: 512
  hop_length: 160  # 10ms at 16kHz
  win_length: 400  # 25ms at 16kHz
  
  # Data augmentation
  augmentation:
    enabled: true
    gain_range: [0.7, 1.3]
    noise_probability: 0.3
    noise_std: 0.005

# Model Architecture
model:
  # Audio Encoder
  audio_encoder:
    mel_bands: 80
    cnn_size: 256
    num_cnn_layers: 2
    embedding_size: 256
    num_heads: 8
    num_transformer_layers: 4
    feedforward_size: 1024
    dropout_rate: 0.1
  
  # Anomaly Feature Extractor
  anomaly_extractor:
    sample_rate: 16000
    output_size: 40
  
  # Classifier
  classifier:
    audio_feature_size: 256
    anomaly_feature_size: 40
    hidden_size: 256
    dropout_rate: 0.3

# Training Settings
training:
  batch_size: 16
  num_epochs: 50
  learning_rate: 0.0001
  weight_decay: 0.00001
  
  # Optimizer
  optimizer: "adam"
  betas: [0.9, 0.999]
  
  # Learning rate scheduler
  scheduler:
    type: "reduce_on_plateau"
    factor: 0.5
    patience: 5
    min_lr: 0.0000001
  
  # Gradient clipping
  grad_clip: 1.0
  
  # Early stopping
  early_stopping:
    enabled: true
    patience: 10

# Inference Settings
inference:
  threshold: 0.5
  batch_size: 8
  use_vad: true

# Paths
paths:
  output_dir: "outputs/"
  checkpoint_dir: "outputs/checkpoints/"
  log_dir: "outputs/logs/"
  best_model: "outputs/checkpoints/best_model.pth"

# System Settings
system:
  device: "cuda"  # "cuda" or "cpu"
  num_workers: 4
  pin_memory: true
  seed: 42

# Logging
logging:
  log_interval: 10  # Log every N batches
  tensorboard: true
  save_checkpoint_interval: 5  # Save every N epochs
